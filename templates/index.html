{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<h2>Product Listing</h2>
<div>
    <label for="category">Filter by category:</label>
    <select id="category" name="category" onchange="location.href='{{ url_for('index') }}?category=' + this.value">
        <option value="" selected>All</option>
        {% for category in categories %}
        <option value="{{ category }}" {% if category == selected_category %}selected{% endif %}>{{ category }}</option>
        {% endfor %}
    </select>
</div>
<ul>
    {% for product in products %}
    <li>
        <h3>{{ product.name }}</h3>
        <!-- Image part with hero reference update -->
        <img src="{{ url_for('static', filename=product.hero_image) }}" alt="{{ product.name }}">
        <p>${{ product.price }}</p>
        <p>{{ product.description }}</p>
        <a href="{{ url_for('product_detail', product_id=product.id) }}">View Details</a>
        <a href="{{ url_for('add_to_cart', product_id=product.id) }}">Add to Cart</a>
    </li>
    {% endfor %}
</ul>
{% endblock %}
